<!-- Start Breadcrumbs -->
<app-breadcrumbs title="Report Listing" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>
<!-- End Breadcrumbs -->

<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body mt-3">
                <div class="table-responsive table-card p-3">
                    <table class="table table-centered align-middle table-custom-effect table-nowrap mb-0">
                        <thead class="table-light">
                            <tr>
                                <th>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="checkAll" [(ngModel)]="masterSelected" (change)="checkUncheckAll($event)">
                                        <label class="form-check-label" for="checkAll"></label>
                                    </div>
                                </th>
                                <th scope="col" class=" cursor-pointer">S No</th>
                                <th scope="col" class=" cursor-pointer">Report Name</th>
                                <th scope="col" class=" cursor-pointer">Report Description</th>
                            </tr>
                        </thead>
                        <tbody class="list form-check-all" id="invoice-list-data">
                            @for (data of reportListingData; track $index) {
                            <tr id="l_{{data.id}}">
                                <td>
                                    <div class="form-check"> <input class="form-check-input" type="checkbox" name="checkAll" value="{{data.id}}" [(ngModel)]="data.states" (change)="onCheckboxChange($event)"> <label class="form-check-label"></label> </div>
                                </td>
                                <td class="id">{{data.id}}</td>
                                <td class="name text-wrap" style="min-width: 500px;">{{data.name}}</td>
                                <td class="description text-clamp">{{data.description}}</td>
                            </tr>
                        }
                        </tbody><!-- end tbody -->
                    </table><!-- end table -->

                    <div class="noresult" style="display: none;">
                        <div class="text-center py-4">
                            <i class="ph-magnifying-glass fs-1 text-primary"></i>
                            <h5 class="mt-2">Sorry! No Result Found</h5>
                            <p class="text-muted mb-0">We've searched more than 6+ invoice We did not find any invoice
                                for you search.</p>
                        </div>
                    </div>
                </div>
                <div class="row align-items-center mt-4 pt-3" id="pagination-element">
                    <div class="col-sm">
                        <div class="text-muted text-center text-sm-start">
                            Showing <span class="fw-semibold">{{reportListingData.length}}</span> of <span class="fw-semibold">{{reportListingData.length}}</span> Results
                        </div>
                    </div><!--end col-->
                    <div class="col-sm-auto mt-3 mt-sm-0">
                        <pagination class="pagination-wrap hstack justify-content-center gap-2"  [itemsPerPage]="10" (pagrChanged)="pageChanged($event)"></pagination>
                    </div><!--end col-->
                </div><!--end row-->
            </div>
            
            <div class="card-body">
                <form class="tablelist-form" novalidate autocomplete="off">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="mb-3">
                                <label for="start-date-input" class="form-label">Start Date<span class="text-danger">*</span></label>
                        <input type="text" class="form-control" mwlFlatpickr [altInput]="true" [convertModelValue]="true" dateFormat="d M,Y" altFormat="d M,Y" formControlName="startDate" id="start-date-input" placeholder="Select start Date" required>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="mb-3">
                                <label for="end-date-input" class="form-label">End Date<span class="text-danger">*</span></label>
                        <input type="text" class="form-control" mwlFlatpickr [altInput]="true" [convertModelValue]="true" dateFormat="d M,Y" altFormat="d M,Y" formControlName="endDate" id="end-date-input" placeholder="Select end Date" required>
                            </div>
                        </div>
                    </div>

                    <div class="hstack gap-2 justify-content-end mb-3">
                        <button class="btn btn-primary" (click)="showInvoiceTable()">Generate Invoice</button>
                    </div>
                </form>
            </div>

            <div class="card-body mt-3" *ngIf="isTableClosed">
                <div class="table-responsive table-card p-3">
                    <table class="table table-centered align-middle table-custom-effect table-nowrap mb-0">
                        <thead class="table-light">
                            <tr>
                                <!-- <th>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="checkAll" [(ngModel)]="masterSelected" (change)="checkUncheckAll($event)">
                                        <label class="form-check-label" for="checkAll"></label>
                                    </div>
                                </th> -->
                                <th scope="col">Unit No.</th>
                                <th scope="col">Name of Owner & Tenant</th>
                                <th scope="col">PREVIOUS BALANCE</th>
                                <th scope="col">JAN-24</th>
                                <th scope="col">FEB-24</th>
                                <th scope="col">MAR-24</th>
                                <th scope="col">APR-24</th>
                                <th scope="col">MAY-24</th>
                                <th scope="col">JUN-24</th>
                                <th scope="col">JUL-24</th>
                                <th scope="col">AUG-24</th>
                                <th scope="col">SEP-24</th>
                                <th scope="col">OCT-24</th>
                                <th scope="col">NOV-24</th>
                                <th scope="col">DEC-24</th>
                                <th scope="col">Total Dues</th>
                                <th scope="col">W.H.T</th>
                                <th scope="col">Rec.Amt</th>
                                <th scope="col">Balance</th>
                            </tr>
                        </thead>
                        <tbody class="list form-check-all" id="invoice-list-data">
                            @for (data of invoiceDataGrid; track $index) {
                            <tr id="l_{{data.id}}">
                                <!-- <td>
                                    <div class="form-check"> <input class="form-check-input" type="checkbox" name="checkAll" value="{{data.id}}" [(ngModel)]="data.states" (change)="onCheckboxChange($event)"> <label class="form-check-label"></label> </div>
                                </td> -->
                                <!-- <td class="id">{{data.id}}</td> -->
                                <td class="unit_no">{{data.unit_no}}</td>
                                <td class="Name_Owner_Tenant">{{data.Name_Owner_Tenant}}</td> 
                                <td class="previous_balance">{{data.previous_balance}}</td> 
                                <td class="JAN_24">{{data.JAN_24}}</td> 
                                <td class="FEB_24">{{data.FEB_24}}</td> 
                                <td class="MAR_24">{{data.MAR_24}}</td> 
                                <td class="APR_24">{{data.APR_24}}</td> 
                                <td class="MAY_24">{{data.MAY_24}}</td> 
                                <td class="JUN_24">{{data.JUN_24}}</td> 
                                <td class="JUL_24">{{data.JUL_24}}</td> 
                                <td class="AUG_24">{{data.AUG_24}}</td> 
                                <td class="SEP_24">{{data.SEP_24}}</td> 
                                <td class="OCT_24">{{data.OCT_24}}</td> 
                                <td class="NOV_24">{{data.NOV_24}}</td> 
                                <td class="DEC_24">{{data.DEC_24}}</td> 
                                <td class="Total_dues">{{data.Total_dues}}</td> 
                                <td class="W_H_T">{{data.W_H_T}}</td> 
                                <td class="Rec_Amt">{{data.Rec_Amt}}</td> 
                                <td class="Balance">{{data.Balance}}</td> 
                            </tr>
                        }
                        </tbody><!-- end tbody -->
                    </table><!-- end table -->

                    <div class="noresult" style="display: none;">
                        <div class="text-center py-4">
                            <i class="ph-magnifying-glass fs-1 text-primary"></i>
                            <h5 class="mt-2">Sorry! No Result Found</h5>
                            <p class="text-muted mb-0">We've searched more than 6+ invoice We did not find any invoice
                                for you search.</p>
                        </div>
                    </div>
                </div>
                <div class="row align-items-center mt-4 pt-3" id="pagination-element">
                    <div class="col-sm">
                        <div class="text-muted text-center text-sm-start">
                            Showing <span class="fw-semibold">{{reportListingData.length}}</span> of <span class="fw-semibold">{{reportListingData.length}}</span> Results
                        </div>
                    </div><!--end col-->
                    <div class="col-sm-auto mt-3 mt-sm-0">
                        <pagination class="pagination-wrap hstack justify-content-center gap-2"  [itemsPerPage]="10" (pagrChanged)="pageChanged($event)"></pagination>
                    </div><!--end col-->
                </div><!--end row-->
            </div>
        
        </div>
    </div><!--end col-->
</div><!--end row-->